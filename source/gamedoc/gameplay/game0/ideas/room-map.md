# 房间和地图

```{admonition} 作者
&emsp;&emsp;建建
```

## 概述

发⽣战⽃的场景

## 测试⽤例

* 正确根据关卡ID，⽣成地图。
* 房间占领状态正确初始化，读配置⽂件。
* 房间占领状态正确变化，需要⻆⾊、敌⼈都做了才能测试。

## 属性

* 房间ID，⽣成时读取表格数据
* ⻓度
* 房间类型
	* 枚举变量，有多个值：普通、玩家出⽣点、胜利⽬标（占领后获胜）等
* 拥有者
	* 枚举变量，⼀共有3个值：玩家占领、敌军占领、中⽴
	* 初始状态读取配置⽂件，否则默认中⽴

## 配置

使⽤2个表来存储地图信息

* 表格1：记录房间基础信息
	* 关卡ID，int变量，如1001
	* 房间ID，int变量，如001
	* 房间类型
	* 初始拥有者
	* ⻓度（需要确定距离的单位）  
Length: 1000
	* 占领后获得的奖励，填写效果ID  
Occupy: 001
* 表格2：记录房间之间的连接关系
	* 关卡ID，如1001
	* 相互连接2个房间ID，如（001，002）

## 规则

* ⽣成
	* 根据关卡ID读取表格数据，根据房间ID从⼩到⼤⽣成房间
* 变化
	* 房间可以被某⼀⽅占领
		* 当某个房间只有⼀⽅单位时开始计时，计时到达10秒后被⼀⽅占领。
		* 计时阶段如果这⼀⽅单位消失或者另⼀⽅单位进⼊，则计时器归零。
		* 主动占领后，触发房间配置的占领效果
