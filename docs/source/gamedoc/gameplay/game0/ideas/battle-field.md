# 战场玩法

```{admonition} 作者
&emsp;&emsp;建建
```

## ⽬标

&emsp;&emsp;设计⼀个主要玩法，满⾜这些要求
* 关键词：⾼重玩性、⾼随机性、多⻆⾊、策略搭配、探索
* 紧张刺激，有明确的胜利失败⽬标
* 可重玩性和随机性⾼ 持续时间约3分钟-10分钟
* 相对独⽴（这⼀场战⽃和上⼀场战⽃的结果没多⼤关系）
* 玩点
	* ⽐较丰富的战前策略和配置（玩家携带1-N个⻆⾊参与）
	* 战⽃中的策略和选择
	* 有部分玩点和时间相关
* 与AI紧密结合
	* 玩家将根据⻆⾊AI来预测战⽃结果，⽽这个结果很重要

## ⽅案1

* 核⼼可分配资源：⻆⾊、路径
* ⼀个简单的分配资源求最⼤值的玩法+路径规划玩法

### 玩法⽰意图

* 玩家消耗能量上场⻆⾊、升级⻆⾊、激活技能
* ⻆⾊战⽃占领房间，获得buff（可以增加战⽃⼒，但是会消耗能量）
* 玩家要合理的花费能量，获得相对较多的buff，并且保留⾜够的能量给boss战。

```{eval-rst}
.. figure:: /img/design/gameplay/battle-field.png
   :align: center
   :alt: 能量管理的机制

   能量管理的机制
```

* 战⽃胜利后选择通往的房间
* 需要考虑⽤尽可能少的战⽃次数，获得最多的buff，并且到达boss处

```{eval-rst}
.. figure:: /img/design/gameplay/battle-field1.png
   :align: center
   :alt: 关卡流程示意

   关卡流程示意
```

## 思路

* 玩家选择
	* 选择上场⻆⾊，M选N
	* 放置⻆⾊到不同战场、位置，M选N
	* 设定进攻⽬标，M选1
	* 释放⻆⾊技能（如⼤招），切换状态（如全员加速）
* ⽬标
	* 终极⽬标：成功击败boss
	* 玩家资源⽬标：能量，战⽃⼒
	* 中间性⽬标：击败敌军先后顺序，占领特定房间
	* ⽬标连接
		* 击败Boss ← 战⽃⼒ ← 战⽃buff ← 占领特定房间 ← 通往特定房间 ← 战⽃ ← 能量
		* 击败Boss ← 能量（有能量才能上场⻆⾊和放技能）
		* 能量 ← 占领特定房间 ← 通往特定房间 ← 战⽃ ← 能量

## 规则

* 操作
	* 可以拖动⻆⾊上场战⽃，需要消耗能量。
	* 当⼀个房间中的敌⼈全部被杀死后，玩家可以点击该房间连通的任意房间，⻆⾊即前往该房间。
	* 元素
		* ⻆⾊
			* 战⽃开始后玩家可以拖动⻆⾊上场战⽃，需要消耗能量。
			* ⻆⾊死亡进⼊受伤状态，⼀段时间后⾃动恢复到正常状态，可以花费能量再次上场。
		* 房间
			* 每个房间是⼀个独⽴的战场
			* 当⼀个房间中的敌⼈全部被杀死后，玩家可以点击该房间连通的任意房间，⻆⾊即前往该房间。
		* buff
			* 杀死某些房间的敌⼈后可以获得特定buff，增强战⽃⼒。
* ⽬标
	* 胜利⽬标：战胜boss
	* 失败条件：场上所有⻆⾊死亡，并且没有能量再次上场⻆⾊

## 随机性

* 房间、地图
* ⻆⾊
* 战⽃掉落

